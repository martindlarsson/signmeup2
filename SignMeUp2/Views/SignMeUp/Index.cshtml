@using Microsoft.Web.Mvc
@using SignMeUp2.Models;

@model SignMeUp2.Models.WizardViewModel

@{
    Layout = "~/Views/Shared/_SimpleLayout.cshtml";
    var currentStep = Model.Steps[Model.CurrentStepIndex];
}

<h3>Steg @(Model.CurrentStepIndex + 1) av @Model.Steps.Count</h3>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.Hidden("StepType", Model.Steps[Model.CurrentStepIndex].GetType())

    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        @Html.EditorFor(x => currentStep, null, "")

        @if (Model.CurrentStepIndex > 0) {
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Föregående" name="prev" class="btn btn-default" />
                </div>
            </div>
        }

        @if (Model.CurrentStepIndex < Model.Steps.Count - 1) {
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Nästa" name="next" class="btn btn-default" />
                </div>
            </div>
        }
        else {
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Skicka" name="finish" class="btn btn-default" />
                </div>
            </div>
        }
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
